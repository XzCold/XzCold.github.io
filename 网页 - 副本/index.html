<!DOCTYPE html>
<html lang="zh-CN" data-theme="minimal">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XzCold | 3D Environment Artist (V1.5)</title>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- 0. è®¾è®¡ç³»ç»Ÿ & å˜é‡å®šä¹‰ --- */
        :root {
            /* åŠ¨æ•ˆæ›²çº¿ */
            --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
            --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
            /* å…¨å±€è¿‡æ¸¡æ—¶é—´ (æ§åˆ¶é¢œè‰²åˆ‡æ¢çš„å¹³æ»‘åº¦) */
            --theme-transition: 0.8s var(--ease-smooth);

            /* [ä¸»é¢˜ 1 é»˜è®¤] MINIMAL FUTURE (æç®€æœªæ¥) - V1.3 ä¼˜åŒ–å¯¹æ¯”åº¦ */
            --bg-base: #F5F5F7; /* ç™½é‡‘é›¾è‰² */
            --bg-gradient: linear-gradient(180deg, #FFFFFF 0%, #E0E3E8 100%);
            --bg-card: rgba(255, 255, 255, 0.9);
            --bg-glass: rgba(255, 255, 255, 0.85);
            --bg-hover: rgba(109, 145, 201, 0.1);
            --border-color: rgba(0, 0, 0, 0.08);
            --accent: #6D91C9; /* æ¸©å’Œä¸­æ€§è‰²è“ (å¢å¼º) */
            --accent-rgb: 109, 145, 201;
            --accent-glow: rgba(109, 145, 201, 0.3);
            --text-main: #0A0A0A; /* ææ·±é»‘ (å¢å¼ºå¯¹æ¯”) */
            --text-sub: #586879;
            --text-meta: #A0A0A5; /* æµ…é›¾é“¶ç° (å¢å¼ºå¯¹æ¯”) */
            
            --font-title: 'Roboto Mono', sans-serif;
            --font-body: 'Noto Sans SC', sans-serif;
        }

        /* [ä¸»é¢˜ 2] INDUSTRIAL (å·¥ä¸šé£) - V1.3 ä¼˜åŒ–å¯¹æ¯”åº¦ */
        [data-theme="industrial"] {
            --bg-base: #111315; /* å·¥ä¸šé»‘é“ */
            --bg-gradient: radial-gradient(circle at 50% 50%, #20242a 0%, #0a0c0e 100%);
            --bg-card: rgba(30, 35, 40, 0.8);
            --bg-glass: rgba(17, 19, 21, 0.95);
            --bg-hover: rgba(212, 115, 58, 0.1);
            --border-color: rgba(62, 74, 86, 0.3); 
            --accent: #D4733A; /* çƒŸå°˜æ©™ */
            --accent-rgb: 212, 115, 58;
            --accent-glow: rgba(212, 115, 58, 0.4);
            --text-main: #F0F0F0; /* æäº® (å¢å¼ºå¯¹æ¯”) */
            --text-sub: #D0D0D0; /* æäº® (å¢å¼ºå¯¹æ¯”) */
            --text-meta: #8899A8; /* å†·é’¢è“ç° (å¢å¼ºå¯¹æ¯”) */
        }

        /* [ä¸»é¢˜ 3] WATER INK (æ°´å¢¨é£) - V1.3 è´¨æ„Ÿä¼˜åŒ– */
        [data-theme="water_ink"] {
            --bg-base: #FDFBFC; /* å®£çº¸ç™½ */
            --bg-gradient: radial-gradient(circle at 50% 50%, rgba(240, 240, 240, 0.3) 0%, #FDFBFC 80%); /* å¢å¼ºä¸­å¤®æ™•æŸ“æ„Ÿ */
            --bg-card: rgba(255, 255, 255, 0.7); 
            --bg-glass: rgba(255, 255, 255, 0.95); 
            --bg-hover: rgba(212, 76, 76, 0.15); 
            --border-color: rgba(0, 0, 0, 0.15); 
            --accent: #D44C4C; /* æœ±ç ‚çº¢ç‚¹ç¼€ */
            --accent-rgb: 212, 76, 76;
            --accent-glow: rgba(212, 76, 76, 0.4);
            --text-main: #111111; /* å¢¨é»‘ (æ›´æ·±ï¼Œå¢å¼ºå¯¹æ¯”) */
            --text-sub: #333333;
            --text-meta: #777777; /* äº‘ç° (æ›´ä¸­æ€§ï¼Œå¢å¼ºå¯¹æ¯”) */
        }
        
        /* [ä¸»é¢˜ 4] CHRISTMAS (åœ£è¯ä¸»é¢˜) - V1.4 æ–°å¢ */
        [data-theme="christmas"] {
            --bg-base: #8A1A1A; /* æ·±èŠ‚æ—¥çº¢/è¤çº¢è‰² */
            --bg-gradient: radial-gradient(circle at 50% 50%, #B02020 0%, #8A1A1A 100%);
            --bg-card: rgba(255, 255, 255, 0.1); /* ç£¨ç ‚ç™½å¡ç‰‡ */
            --bg-glass: rgba(138, 26, 26, 0.85);
            --bg-hover: rgba(255, 215, 0, 0.2); /* é‡‘è‰² hover */
            --border-color: rgba(255, 255, 255, 0.2); 
            --accent: #FFD700; /* é»„é‡‘è‰² */
            --accent-rgb: 255, 215, 0;
            --accent-glow: rgba(255, 215, 0, 0.6); 
            --text-main: #F0F0F0; /* é›ªç™½ */
            --text-sub: #C0C0C0; /* é“¶ç™½ */
            --text-meta: #50A050; /* æ£®æ—ç»¿ç‚¹ç¼€ */
        }

        /* --- V1.3 è„‰å†²è½¬åœºæ•ˆæœ CSS (æ ¸å¿ƒè½¬åœºåŠ¨æ•ˆ) --- */
        #pulse-overlay {
            position: fixed; top: 50%; left: 50%; width: 0; height: 0;
            background: var(--bg-base); 
            border-radius: 50%; transform: translate(-50%, -50%);
            z-index: 9999; pointer-events: none;
            transition: none !important; 
        }
        .pulse-anim { animation: pulseExpand 1s cubic-bezier(0.7, 0, 0.3, 1) forwards; }
        
        @keyframes pulseExpand {
            0% { width: 0; height: 0; opacity: 1; }
            50% { width: 300vmax; height: 300vmax; opacity: 1; } 
            100% { width: 300vmax; height: 300vmax; opacity: 0; } 
        }

        /* --- 1. åŸºç¡€è®¾ç½® & å…¨å±€è¿‡æ¸¡ --- */
        * { box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            margin: 0; background-color: var(--bg-base); background-image: var(--bg-gradient);
            color: var(--text-main); font-family: var(--font-body); overflow-x: hidden; 
            min-height: 100vh; line-height: 1.7;
            /* æ ¸å¿ƒï¼šæ‰€æœ‰é¢œè‰²å±æ€§çš„å…¨å±€è¿‡æ¸¡ */
            transition: background var(--theme-transition), color var(--theme-transition);
        }
        
        /* ç¡®ä¿æ‰€æœ‰å®¹å™¨èƒŒæ™¯å’Œè¾¹æ¡†ä¹Ÿèƒ½å¹³æ»‘è¿‡æ¸¡ */
        nav, .menu-container, .tab-item, .main-display, .avatar-box, .sw-tag, footer, .btn, .mobile-overlay, .color-dot, .glass-content-panel {
            transition: background-color var(--theme-transition), border-color var(--theme-transition), box-shadow var(--theme-transition), color var(--theme-transition), transform 0.3s;
        }

        a { text-decoration: none; color: inherit; }
        button { border: none; background: none; cursor: pointer; outline: none; font-family: inherit; }
        h1, h2, h3, h4 { font-family: var(--font-title); margin: 0; font-weight: 700; letter-spacing: -0.03em; }
        img { display: block; max-width: 100%; }
        
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-base); }
        /* é’ˆå¯¹æ·±è‰²ä¸»é¢˜çš„æ»šåŠ¨æ¡ */
        [data-theme="industrial"] ::-webkit-scrollbar-thumb, [data-theme="christmas"] ::-webkit-scrollbar-thumb { background: #555; }
        /* é’ˆå¯¹æµ…è‰²ä¸»é¢˜çš„æ»šåŠ¨æ¡ */
        [data-theme="water_ink"] ::-webkit-scrollbar-thumb, [data-theme="minimal"] ::-webkit-scrollbar-thumb { background: #ccc; }

        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        /* --- 2. å¯¼èˆªæ  --- */
        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 25px 60px; position: fixed; top: 0; z-index: 100;
            left: 0; right: 0; 
            transition: padding 0.3s var(--ease-smooth), background-color var(--theme-transition), backdrop-filter var(--theme-transition), border-bottom var(--theme-transition), box-shadow 0.3s;
        }
        /* V1.3 ä¿®å¤/ä¼˜åŒ–ï¼šæ»šåŠ¨åå¯¼èˆªæ çš„èƒŒæ™¯å’Œè¾¹æ¡†ç¡®ä¿é«˜å¯¹æ¯”åº¦ */
        nav.scrolled {
            padding: 15px 60px;
            background: var(--bg-glass);
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }
        .logo { font-size: 24px; letter-spacing: 2px; font-weight: 700; }
        .logo span { color: var(--accent); transition: color var(--theme-transition); }

        .menu-container {
            display: flex; gap: 5px;
            background: var(--bg-glass); padding: 5px; border-radius: 50px;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }
        .menu-link {
            padding: 10px 24px; border-radius: 40px; font-size: 14px; 
            color: var(--text-sub); font-weight: 500; transition: all 0.3s;
        }
        .menu-link:hover { color: var(--text-main); background: var(--bg-hover); }
        .menu-link.active { color: var(--bg-base); background: var(--accent); font-weight: 700; box-shadow: 0 0 15px var(--accent-glow); }

        /* ç§»åŠ¨èœå• */
        .hamburger { 
            display: none; font-size: 28px; color: var(--text-main); z-index: 101; 
            width: 30px; height: 30px; 
            justify-content: center; align-items: center; 
            transition: transform 0.3s, opacity 0.3s, color var(--theme-transition); 
        }
        .mobile-overlay {
            position: fixed; top: 0; right: 0; width: 100%; height: 100%;
            /* V1.3 ä¼˜åŒ–ï¼šä½¿ç”¨èƒŒæ™¯è‰²å˜é‡ï¼Œç¡®ä¿è·Ÿéšä¸»é¢˜åˆ‡æ¢ */
            background: var(--bg-base); 
            z-index: 99;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            clip-path: circle(0% at 100% 0); transition: clip-path 0.6s var(--ease-out-expo), background-color var(--theme-transition);
        }
        .mobile-overlay.active { clip-path: circle(150% at 100% 0); }
        .mobile-overlay a { font-size: 32px; margin: 20px 0; font-weight: 700; opacity: 0; transform: translateY(20px); transition: 0.4s; color: var(--text-main); }
        .mobile-overlay.active a { opacity: 1; transform: translateY(0); } 
        .mobile-overlay button { display: none; }


        /* --- 3. Hero åŒºåŸŸ (V1.3 æ’ç‰ˆ) --- */
        header { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: relative; }
        
        .hero-title {
            font-size: 120px; line-height: 0.95; text-transform: uppercase; margin: 0;
            /* ç¡®ä¿æ¸å˜è‰²ä½¿ç”¨å½“å‰ä¸»é¢˜çš„é¢œè‰²å˜é‡ï¼Œå¢å¼ºå†²å‡»åŠ› */
            background: linear-gradient(135deg, var(--text-main) 20%, var(--text-sub) 100%);
            -webkit-background-clip: text; color: transparent;
            text-shadow: 0 10px 40px rgba(0,0,0,0.1);
            animation: heroReveal 1.2s var(--ease-out-expo);
        }
        .hero-title .zh { 
            font-size: 28px; display: block; margin-top: 25px; font-weight: 400; 
            letter-spacing: 0.4em; color: var(--text-sub); font-family: var(--font-body); 
            text-shadow: none; opacity: 0.8; font-style: normal;
        }
        
        @keyframes heroReveal { 0% { transform: translateY(50px); opacity: 0; filter: blur(10px); } 100% { transform: translateY(0); opacity: 1; filter: blur(0); } }

        .scroll-down {
            position: absolute; bottom: 40px; display: flex; flex-direction: column; align-items: center; gap: 10px;
            font-size: 12px; letter-spacing: 2px; color: var(--text-sub); opacity: 0.6;
        }
        .scroll-line { width: 1px; height: 60px; background: linear-gradient(to bottom, var(--text-sub), transparent); }

        /* --- 4. About Me --- */
        .section-container { max-width: 1400px; margin: 0 auto; padding: 150px 60px; }
        .about-layout { display: flex; align-items: center; gap: 100px; }
        
        .avatar-box {
            width: 350px; height: 350px; flex-shrink: 0; position: relative;
            border-radius: 50%; padding: 8px; border: 1px solid var(--border-color);
        }
        .avatar-inner { width: 100%; height: 100%; border-radius: 50%; overflow: hidden; z-index: 2; position: relative; background: #111; }
        .avatar-inner img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(1) contrast(1.2); transition: 0.5s; }
        .avatar-box:hover .avatar-inner img { filter: grayscale(0); transform: scale(1.05); }
        .avatar-box::before {
            content: ''; position: absolute; inset: -1px; border-radius: 50%;
            background: conic-gradient(from 0deg, transparent 0%, var(--accent) 20%, transparent 40%);
            animation: rotateAvatar 6s linear infinite; opacity: 0.4;
        }
        @keyframes rotateAvatar { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .info-box h2 { 
            font-size: 13px; color: var(--accent); margin-bottom: 24px; 
            text-transform: uppercase; letter-spacing: 3px; font-weight: 700;
            display: flex; align-items: center; gap: 10px;
        }
        .info-box h2::before { content:''; width: 20px; height: 1px; background: var(--accent); }

        /* V1.5: æ¶²æ€ç»ç’ƒé¢æ¿å®¹å™¨ */
        .glass-content-panel {
            background: var(--bg-card); 
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 30px;
            margin-top: 20px; 
            /* æ ¸å¿ƒæ¶²æ€ç»ç’ƒæ•ˆæœ */
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.05); 
            transition: all var(--theme-transition);
        }

        /* V1.5: é¢æ¿å†…çš„æ®µè½æ ·å¼ */
        .glass-content-panel p { 
            color: var(--text-sub); 
            font-size: 17px; 
            line-height: 1.9; 
            margin-bottom: 30px; /* è°ƒæ•´æ®µè½é—´è· */
            max-width: none; 
            font-weight: 300;
            text-align: justify; 
        }

        /* è½¯ä»¶æŠ€èƒ½æ’ç‰ˆä¼˜åŒ– */
        .software-grid { 
            display: flex; gap: 12px; flex-wrap: wrap; 
            justify-content: flex-start;
        }
        /* V1.5: é¢æ¿å†…çš„è½¯ä»¶æŠ€èƒ½ç½‘æ ¼æ ·å¼ */
        .glass-content-panel .software-grid {
            margin-bottom: 0; /* ç§»é™¤åº•éƒ¨ marginï¼Œè®© padding å†³å®šç©ºé—´ */
            padding-top: 20px; 
            border-top: 1px solid var(--border-color); /* å¢åŠ è§†è§‰åˆ†å‰² */
        }
        
        .sw-tag { 
            padding: 8px 18px; background: var(--bg-card); border: 1px solid var(--border-color);
            border-radius: 100px; font-size: 12px; font-family: var(--font-title); 
            color: var(--text-main); letter-spacing: 0.5px;
        }
        .sw-tag:hover { border-color: var(--accent); color: var(--accent); transform: translateY(-2px); box-shadow: 0 5px 15px var(--accent-glow); }

        /* --- 5. Works (åˆ‡æ¢åŠ¨æ•ˆæ·±åº¦ä¼˜åŒ–) --- */
        .works-header { margin-bottom: 60px; border-left: 3px solid var(--accent); padding-left: 30px; }
        .works-header h2 { font-size: 48px; margin-bottom: 10px; color: var(--text-main); }
        .works-header p { color: var(--text-meta); font-size: 14px; letter-spacing: 2px; text-transform: uppercase; }

        .tabs-wrapper { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin-bottom: 50px; }
        .tab-item {
            padding: 25px 30px; background: var(--bg-card); border: 1px solid var(--border-color);
            border-radius: 8px; cursor: pointer; position: relative; overflow: hidden;
        }
        .tab-item:hover { transform: translateY(-3px); background: var(--bg-hover); border-color: var(--accent); }
        .tab-item.active { border-color: var(--accent); background: var(--bg-hover); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .tab-num { font-size: 12px; color: var(--text-meta); margin-bottom: 8px; font-family: var(--font-title); letter-spacing: 1px; }
        .tab-title { font-size: 18px; color: var(--text-main); font-weight: 700; display: flex; justify-content: space-between; align-items: center;}
        .coming-badge { font-size: 10px; background: var(--bg-glass); padding: 3px 8px; border-radius: 4px; color: var(--text-sub); border: 1px solid var(--border-color); }

        .main-display {
            display: grid; grid-template-columns: 1.5fr 1fr; gap: 60px; 
            background: var(--bg-card); padding: 50px; border-radius: 16px;
            border: 1px solid var(--border-color); position: relative; min-height: 600px;
            /* å®¹å™¨è‡ªèº«çš„è¿‡æ¸¡ */
            transition: background-color var(--theme-transition), border-color var(--theme-transition);
        }
        
        /* å†…å®¹åˆ‡æ¢æ—¶çš„åŠ¨æ•ˆå®¹å™¨ */
        .anim-wrapper { transition: all 0.5s var(--ease-out-expo); opacity: 1; transform: translateY(0); }
        .main-display.fading .anim-wrapper { opacity: 0; transform: translateY(30px); filter: blur(10px); }

        .display-img-wrapper {
            height: 500px; border-radius: 8px; overflow: hidden; position: relative;
            border: 1px solid var(--border-color); box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .display-image { width: 100%; height: 100%; object-fit: cover; transition: transform 0.8s var(--ease-out-expo); }
        .display-img-wrapper:hover .display-image { transform: scale(1.03); }
        
        /* ä¼˜åŒ–ï¼šæŒ‰é’®å®šä½ */
        .display-content {
            display: flex; 
            flex-direction: column; 
            height: 100%; 
            justify-content: flex-start; 
        }
        .display-content h3 { font-size: 42px; margin-bottom: 20px; line-height: 1.1; color: var(--text-main); }
        .project-meta { font-family: var(--font-title); color: var(--accent); font-size: 14px; margin-bottom: 20px; display: block; letter-spacing: 1px; }
        
        /* ä¼˜åŒ–ï¼šæ–‡å­—æ’å¸ƒ (Project Specs) */
        .display-desc { 
            list-style: none; 
            padding-left: 0; 
            margin-top: 20px; 
            padding: 20px 0; 
            border-top: 1px solid var(--border-color); 
            border-bottom: 1px solid var(--border-color); 
        }
        .display-desc li { 
            color: var(--text-main); 
            margin-bottom: 10px; 
            padding-left: 30px; 
            position: relative; 
            list-style: none; 
            font-size: 14px; 
            font-family: var(--font-title); 
        }
        .display-desc li::before { 
            content: '//'; 
            position: absolute; 
            left: 0; 
            color: var(--accent); 
            font-family: var(--font-body); 
            font-weight: 700;
        }
        
        .btn-group { 
            margin-top: auto; 
            display: flex; gap: 20px; 
            width: 100%; 
            padding-top: 20px; 
        }
        .btn { 
            padding: 14px 32px; font-size: 14px; font-weight: 600; border-radius: 100px; 
            text-transform: uppercase; letter-spacing: 1px; transition: 0.3s;
            flex-grow: 1; 
            text-align: center; 
        }
        .btn-primary { background: var(--accent); color: #fff; } /* ç»Ÿä¸€æŒ‰é’®æ–‡å­—ä¸ºç™½è‰²ï¼Œç¡®ä¿åœ¨æ‰€æœ‰ accent è‰²ä¸‹éƒ½æœ‰å¯¹æ¯”åº¦ */
        .btn-primary:hover { box-shadow: 0 0 30px var(--accent-glow); transform: translateY(-2px); }

        .placeholder-box {
            position: absolute; inset: 0; background: var(--bg-base); display: flex; flex-direction: column;
            justify-content: center; align-items: center; color: var(--text-meta); 
            transition: opacity 0.3s;
        }
        .placeholder-text-cn { font-size: 14px; color: var(--accent); margin-top: 10px; letter-spacing: 1px; }
        .placeholder-text-en { font-size: 12px; color: var(--text-sub); letter-spacing: 2px; text-transform: uppercase; }


        /* Toast */
        #toast {
            visibility: hidden; min-width: 280px; background-color: var(--bg-glass); color: var(--text-main);
            text-align: center; border-radius: 50px; padding: 16px 30px; position: fixed; z-index: 1000;
            left: 50%; bottom: 30px; transform: translateX(-50%); font-size: 14px; 
            border: 1px solid var(--accent); backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.3); opacity: 0; transition: all 0.4s var(--ease-out-expo);
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 50px; }

        /* Theme Switcher */
        .theme-fab { position: fixed; bottom: 40px; right: 40px; z-index: 900; }
        .fab-btn {
            width: 50px; height: 50px; border-radius: 50%; background: var(--bg-glass);
            border: 1px solid var(--border-color); color: var(--text-main);
            display: flex; justify-content: center; align-items: center; font-size: 20px;
            backdrop-filter: blur(10px); box-shadow: 0 10px 30px rgba(0,0,0,0.2); transition: 0.3s;
        }
        .fab-btn:hover { transform: scale(1.1) rotate(90deg); border-color: var(--accent); color: var(--accent); }
        .theme-menu {
            position: absolute; bottom: 65px; right: 0; background: var(--bg-glass);
            padding: 12px; border-radius: 30px; border: 1px solid var(--border-color);
            display: flex; flex-direction: column; gap: 10px; opacity: 0; visibility: hidden; 
            transform: translateY(20px) scale(0.9); transition: all 0.3s var(--ease-out-expo); backdrop-filter: blur(20px);
        }
        .theme-fab:hover .theme-menu { opacity: 1; visibility: visible; transform: translateY(0) scale(1); }
        .color-dot {
            width: 20px; height: 20px; border-radius: 50%; cursor: pointer; position: relative;
            transition: 0.3s; border: 2px solid transparent;
        }
        .color-dot:hover { transform: scale(1.2); }
        .color-dot.active { border-color: var(--text-main); box-shadow: 0 0 10px var(--accent-glow); }

        /* Footer */
        footer { padding: 80px 0 40px; text-align: center; border-top: 1px solid var(--border-color); }
        .footer-links a { font-size: 20px; margin: 0 15px; color: var(--text-sub); transition: 0.3s; display: inline-block; }
        .footer-links a:hover { color: var(--accent); transform: translateY(-3px); text-shadow: 0 0 20px var(--accent-glow); }
        .footer-copy { margin-top: 30px; font-size: 12px; color: var(--text-meta); font-family: var(--font-title); letter-spacing: 1px; }

        /* --- ç§»åŠ¨ç«¯æ·±åº¦ä¼˜åŒ– --- */
        @media (max-width: 1024px) {
            .hero-title { font-size: 52px; letter-spacing: -1px; }
            .hero-title .zh { font-size: 20px; letter-spacing: 2px; margin-top: 15px; }
            .section-container { padding: 100px 24px; }
            .about-layout { flex-direction: column; text-align: center; gap: 40px; }
            .avatar-box { width: 220px; height: 220px; }
            .info-box h2 { justify-content: center; }

            /* V1.5: é’ˆå¯¹ç»ç’ƒé¢æ¿å†…çš„æ–‡æœ¬è¿›è¡Œå±…ä¸­è°ƒæ•´ */
            .glass-content-panel { padding: 20px; margin-top: 15px; }
            .glass-content-panel p { 
                text-align: center !important; 
                padding: 0 0;
                margin-bottom: 20px; 
            }
            .glass-content-panel .software-grid { 
                justify-content: center; 
                padding-top: 15px;
            }

            .menu-container { display: none; }
            .hamburger { display: flex; } 
            /* V1.3 ä¿®å¤/ä¼˜åŒ–ï¼šç§»åŠ¨ç«¯å¯¼èˆªæ å›ºå®šèƒŒæ™¯å’Œè¾¹æ¡† */
            nav { padding: 15px 24px; width: 100%; background: var(--bg-glass); backdrop-filter: blur(15px); border-bottom: 1px solid var(--border-color); }
            .theme-fab { bottom: 20px; right: 20px; }
            .works-header { margin-bottom: 30px; padding-left: 20px; }
            .works-header h2 { font-size: 32px; }
            .tabs-wrapper { 
                grid-template-columns: none; 
                display: flex; 
                overflow-x: auto; 
                padding: 0 24px 15px; 
                margin-left: -24px; 
                margin-right: -24px;
                gap: 15px; 
                margin-bottom: 30px;
            }
            .tabs-wrapper::-webkit-scrollbar { height: 4px; }
            .tabs-wrapper::-webkit-scrollbar-thumb { background: rgba(var(--accent-rgb), 0.5); border-radius: 2px; }
            .tabs-wrapper::-webkit-scrollbar-track { background: var(--bg-card); }
            .tab-item { flex-shrink: 0; min-width: 60%; padding: 20px; }
            .main-display {
                grid-template-columns: 1fr; 
                gap: 30px; 
                padding: 30px 20px; 
                min-height: auto; 
            }
            .display-img-wrapper { height: 250px; }
            .display-content h3 { font-size: 30px; }
            .btn-group { flex-direction: column; gap: 10px; }
            .btn { width: 100%; }
        }
    </style>
</head>
<body>

    <canvas id="particle-canvas"></canvas>
    <div id="pulse-overlay"></div>

    <div id="toast">ğŸš€ é¡¹ç›®è¯¦æƒ…é¡µé¢æ–½å·¥ä¸­... æ•¬è¯·æœŸå¾…ï¼</div>

    <div class="theme-fab">
        <button class="fab-btn">ğŸ¨</button>
        <div class="theme-menu">
            <div class="color-dot" style="background: #D4733A;" onclick="triggerThemePulse('industrial', '#111315')" data-theme="industrial" title="å·¥ä¸šé£"></div>
            <div class="color-dot" style="background: #D44C4C;" onclick="triggerThemePulse('water_ink', '#FDFBFC')" data-theme="water_ink" title="æ°´å¢¨é£"></div>
            <div class="color-dot active" style="background: #F5F5F7; border:1px solid #ccc" onclick="triggerThemePulse('minimal', '#F5F5F7')" data-theme="minimal" title="æç®€æœªæ¥"></div>
            <div class="color-dot" style="background: #FFD700;" onclick="triggerThemePulse('christmas', '#8A1A1A')" data-theme="christmas" title="åœ£è¯ä¸»é¢˜"></div>
        </div>
    </div>

    <nav id="navbar">
        <div class="logo">XZ<span style="color:var(--accent)">COLD</span></div>
        <div class="menu-container">
            <a href="#home" class="menu-link active" id="nav-home">é¦–é¡µ</a>
            <a href="#about" class="menu-link" id="nav-about">æ¦‚è§ˆ</a>
            <a href="#works" class="menu-link" id="nav-works">è§†ç•Œ</a>
            <a href="#contact" class="menu-link" id="nav-contact">è”ç»œ</a>
        </div>
        <button class="hamburger" id="hamburger-btn" onclick="toggleMenu()">â˜°</button>
    </nav>

    <div class="mobile-overlay" id="mobileMenu">
        <a href="#home" onclick="toggleMenu()">é¦–é¡µ</a>
        <a href="#about" onclick="toggleMenu()">æ¦‚è§ˆ</a>
        <a href="#works" onclick="toggleMenu()">è§†ç•Œ</a>
        <a href="#contact" onclick="toggleMenu()">è”ç»œ</a>
    </div>

    <header id="home">
        <div data-aos="zoom-out" data-aos-duration="1000">
            <h1 class="hero-title">
                DIGITAL <br> REALM
                <span class="zh">æ•°å­— Â· è§†ç•Œ</span>
            </h1>
        </div>
        <div class="scroll-down">
            <span>SCROLL</span>
            <div class="scroll-line"></div>
        </div>
    </header>

    <section class="section-container" id="about">
        <div class="about-layout" data-aos="fade-up">
            <div class="avatar-box">
                <div class="avatar-inner">
                    <img src="avatar.jpg" alt="Avatar"> 
                </div>
            </div>
            <div class="info-box">
                <h2>ABOUT ME // ä¸ªäººç®€ä»‹</h2>
                <div class="glass-content-panel">
                    <p>
                        æˆ‘ä»¥ Unreal Engine 5 ä¸ Blender ä¸ºå®éªŒå®¤ï¼Œä»¥å…‰å½±ã€æè´¨ä¸ç©ºé—´ä¸ºå˜é‡ï¼Œä¸æ–­æµ‹è¯•è§†è§‰å™äº‹çš„ä¸Šé™ã€‚åœ¨èµ›åšæœ‹å…‹çš„ç”µå…‰ä¸–ç•Œä¸æç®€ä¸»ä¹‰çš„çº¯å‡€ç»“æ„ä¹‹é—´ï¼Œæˆ‘å¯»æ‰¾ä¸€ç§æ–°çš„æ•°å­—è¯­è¨€ï¼Œè®©åœºæ™¯ä¸ä»…å¯è§ï¼Œæ›´èƒ½â€œè¢«æ„Ÿå—â€ã€‚
                    </p>
                    <div class="software-grid">
                        <div class="sw-tag">Unreal Engine 5</div>
                        <div class="sw-tag">Blender</div>
                        <div class="sw-tag">3ds Max</div>
                        <div class="sw-tag">Maya</div>
                        <div class="sw-tag">Substance Painter</div>
                        <div class="sw-tag">Marvelous Designer</div>
                        <div class="sw-tag">ZBrush</div>
                        <div class="sw-tag">After Effects</div>
                    </div>
                </div>
                </div>
        </div>
    </section>

    <section class="section-container" id="works">
        <div class="works-header" data-aos="fade-up">
            <h2>SELECTED WORKS</h2>
            <p>Featured Environment Art Projects / ç²¾é€‰åœºæ™¯ä½œå“</p>
        </div>

        <div class="tabs-wrapper" data-aos="fade-up" data-aos-delay="100">
            <div class="tab-item active" onclick="switchProject(0)">
                <div class="tab-num">PROJECT 01</div>
                <div class="tab-title">èµ›åšéœ“è™¹éƒ½å¸‚ <span class="coming-badge">æ•¬è¯·æœŸå¾…</span></div>
            </div>
            <div class="tab-item" onclick="switchProject(1)">
                <div class="tab-num">PROJECT 02</div>
                <div class="tab-title">å¤±è½çš„é¾™æ¯å¤å ¡ <span class="coming-badge">æ•¬è¯·æœŸå¾…</span></div>
            </div>
            <div class="tab-item" onclick="switchProject(2)">
                <div class="tab-num">PROJECT 03</div>
                <div class="tab-title">æ•°å­—è’åŸ <span class="coming-badge">æ•¬è¯·æœŸå¾…</span></div>
            </div>
        </div>

        <div class="main-display" id="displayArea" data-aos="fade-up" data-aos-delay="200">
            <div class="anim-wrapper display-img-wrapper">
                <img id="p-img" src="" class="display-image" style="opacity:0;" onerror="handleMissingImage(this)">
                <div id="p-placeholder" class="placeholder-box">
                    <span style="font-size:40px; margin-bottom:10px;">âŒ¬</span>
                    <span class="placeholder-text-cn">æ•¬è¯·æœŸå¾…</span>
                    <span class="placeholder-text-en">IMAGE PENDING...</span>
                </div>
            </div>
            
            <div class="anim-wrapper display-content" id="displayText">
                <span class="project-meta" id="p-tag"></span>
                <h3 id="p-title"></h3>
                <ul class="display-desc" id="p-desc"></ul>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="showToast()">æŸ¥çœ‹é¡¹ç›®è¯¦æƒ…</button>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <h3 style="font-size: 20px; color: var(--text-main); margin-bottom: 25px;">è”ç»œæˆ‘</h3>
        <div class="footer-links">
            <a href="https://www.artstation.com/channels/tag/TheArtofBorderlands4" target="_blank">ArtStation</a>
        </div>
        <div class="footer-copy">Â© 2025 XzCold. V1.5 Build. All Rights Reserved.</div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ offset: 100, duration: 800, once: true });

        function showToast() {
            const toast = document.getElementById("toast");
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }

        // --- Nav Logic (ä¸å˜) ---
        const nav = document.getElementById('navbar');
        const menuLinks = document.querySelectorAll('.menu-link');
        const sections = ['home', 'about', 'works', 'contact'];
        const mobileMenu = document.getElementById('mobileMenu');
        const hamburgerBtn = document.getElementById('hamburger-btn');

        function toggleMenu() {
            mobileMenu.classList.toggle('active');
            
            if (mobileMenu.classList.contains('active')) {
                hamburgerBtn.innerHTML = 'Ã—'; 
                document.querySelectorAll('#mobileMenu a').forEach((link, index) => {
                    setTimeout(() => {
                        link.style.opacity = 1;
                        link.style.transform = 'translateY(0)';
                    }, 50 * index);
                });
            } else {
                hamburgerBtn.innerHTML = 'â˜°'; 
                document.querySelectorAll('#mobileMenu a').forEach(link => {
                    link.style.opacity = 0;
                    link.style.transform = 'translateY(20px)';
                });
            }
        }
        
        window.addEventListener('scroll', () => {
            if(window.scrollY > 50) nav.classList.add('scrolled');
            else nav.classList.remove('scrolled');

            let current = '';
            sections.forEach(id => {
                const section = document.getElementById(id);
                const offset = window.innerWidth < 1024 ? 80 : 120; 
                if (section && window.scrollY >= (section.offsetTop - offset)) current = id;
            });
            menuLinks.forEach(link => {
                link.classList.remove('active');
                if(link.id === `nav-${current}`) link.classList.add('active');
            });
        });


        // --- V1.5: è„‰å†²è½¬åœºå‡½æ•° (ä¸»é¢˜åˆ‡æ¢åŠ¨æ•ˆ) ---
        function triggerThemePulse(themeName, targetBgColor) {
            const overlay = document.getElementById('pulse-overlay');
            
            // 1. è®¾ç½®é®ç½©å±‚é¢œè‰²ä¸ºç›®æ ‡ä¸»é¢˜çš„èƒŒæ™¯è‰²
            overlay.style.background = targetBgColor;

            // 2. ç§»é™¤æ—§åŠ¨ç”»ï¼Œå¼ºåˆ¶é‡ç»˜ï¼Œå¼€å§‹æ–°åŠ¨ç”»
            overlay.classList.remove('pulse-anim');
            void overlay.offsetWidth; // Force reflow/repaint
            overlay.classList.add('pulse-anim');

            // 3. åœ¨åŠ¨ç”»é®ä½å…¨å±çš„ç¬é—´(çº¦ 500ms) åˆ‡æ¢åº•å±‚ä¸»é¢˜å’Œç²’å­æ¨¡å¼
            setTimeout(() => {
                setTheme(themeName);
            }, 500); 
        }

        // --- Theme & Particle Logic ---
        let currentParticleMode = 'soft-glow'; // é»˜è®¤æ¨¡å¼è®¾ç½®ä¸º minimal çš„ soft-glow
        let speedMultiplier = 0.05; 
        let particleOpacityFactor = 0.1; 
        let particleSizeFactor = 3.0; 
        let particleInteractionRadius = 100; // é¼ æ ‡äº’åŠ¨åŠå¾„
        
        function handleTouch(e) {
            if (e.touches.length > 0) {
                mouse.x = e.touches[0].clientX;
                mouse.y = e.touches[0].clientY;
                particleInteractionRadius = window.innerWidth < 1024 ? 80 : 150; 
            }
        }
        function endTouch() {
            mouse.x = null;
            mouse.y = null;
            particleInteractionRadius = 150; 
        }

        function setTheme(themeName) {
            // 1. CSS é¢œè‰²åˆ‡æ¢
            document.documentElement.setAttribute('data-theme', themeName);
            
            document.querySelectorAll('.color-dot').forEach(dot => {
                dot.classList.remove('active');
                if(dot.getAttribute('data-theme') === themeName) dot.classList.add('active');
            });

            // 2. ç²’å­å‚æ•°æ›´æ–° (V1.5 æ ¸å¿ƒé€»è¾‘)
            if (themeName === 'industrial') { // å·¥ä¸šé£ (ç«èŠ±ç²’å­/é‡‘å±ç¢å±‘)
                speedMultiplier = 0.5; 
                currentParticleMode = 'fire-spark'; 
                particleOpacityFactor = 0.6;
                particleSizeFactor = 1.5; 
                particleInteractionRadius = 150;
            } else if (themeName === 'water_ink') { // æ°´å¢¨é£ (å¢¨æ»´æ‰©æ•£/æ·¡é›¾)
                speedMultiplier = 0.1; 
                currentParticleMode = 'ink-mist'; 
                particleOpacityFactor = 0.8;
                particleSizeFactor = 1.0;
                particleInteractionRadius = 100;
            } else if (themeName === 'christmas') { // åœ£è¯ä¸»é¢˜ (é›ªèŠ±/èŠ‚æ—¥é—ªå…‰) - V1.4 NEW
                speedMultiplier = 0.1; 
                currentParticleMode = 'snowfall'; 
                particleOpacityFactor = 0.9;
                particleSizeFactor = 0.8; 
                particleInteractionRadius = 120;
            } else if (themeName === 'minimal') { // æç®€æœªæ¥ (æŸ”å’Œæ‰©æ•£ç²’å­/å‘¼å¸åŠ¨ç”»)
                speedMultiplier = 0.05;
                currentParticleMode = 'soft-glow'; 
                particleOpacityFactor = 0.1; 
                particleSizeFactor = 3.0; // å¤§é¢—ç²’
                particleInteractionRadius = 100;
            }
            
            // é‡æ–°åˆå§‹åŒ–ç²’å­ä»¥åº”ç”¨æ–°çš„å¤§å°å’Œå¯†åº¦
            initParticles();
        }

        // --- Works & Image Logic (ä¸å˜) ---
        const projects = [
            {
                tag: "01 / UE5 REAL-TIME ENV",
                title: "èµ›åšéœ“è™¹éƒ½å¸‚",
                desc: ["å…¨åŠ¨æ€æµæ˜å…‰ç…§ (Lumen) ç³»ç»Ÿåº”ç”¨", "ä½¿ç”¨ PCG æ¡†æ¶å¿«é€Ÿç”ŸæˆåŸå¸‚å»ºç­‘ç¾¤", "åŒ…å«å®Œæ•´çš„å¤©æ°”ç³»ç»Ÿä¸ä½“ç§¯äº‘æ¸²æŸ“"],
                img: "p1_main.jpg"
            },
            {
                tag: "02 / MEDIEVAL FANTASY",
                title: "å¤±è½çš„é¾™æ¯å¤å ¡",
                desc: ["æ¨¡å—åŒ–åŸå ¡èµ„äº§åˆ¶ä½œä¸ Nanite ä¼˜åŒ–", "ä½¿ç”¨ SpeedTree åˆ¶ä½œæ¬¡æ—¶ä»£æ¤è¢«", "ZBrush é«˜ç²¾åº¦é›•åˆ»ä¸ Substance æè´¨ç»˜åˆ¶"],
                img: "p2_main.jpg"
            },
            {
                tag: "03 / HOUDINI VFX",
                title: "æ•°å­—è’åŸ",
                desc: ["Houdini åœ°å½¢ç”Ÿæˆä¸è¿‡ç¨‹åŒ–å»ºæ¨¡", "æ•…éšœè‰ºæœ¯ (Glitch) é£æ ¼è§†è§‰å¼€å‘", "ç»“åˆ UE5 è¿›è¡Œæœ€ç»ˆåœºæ™¯æ•´åˆ"],
                img: "p3_main.jpg"
            }
        ];

        function handleMissingImage(imgElement) {
            imgElement.style.opacity = '0'; 
            document.getElementById('p-placeholder').style.opacity = '1'; 
        }

        function switchProject(index) {
            document.querySelectorAll('.tab-item').forEach((t, i) => {
                t.classList.toggle('active', i === index);
            });

            const displayArea = document.getElementById('displayArea');
            displayArea.classList.add('fading');

            setTimeout(() => {
                const data = projects[index];
                document.getElementById('p-tag').innerText = data.tag;
                document.getElementById('p-title').innerText = data.title;
                
                const ul = document.getElementById('p-desc');
                ul.innerHTML = data.desc.map(item => `<li>${item}</li>`).join('');

                const img = document.getElementById('p-img');
                const ph = document.getElementById('p-placeholder');
                
                // é‡ç½®çŠ¶æ€
                img.style.opacity = '0'; 
                ph.style.opacity = '1';
                
                // è§¦å‘åŠ è½½æ–°å›¾ç‰‡ (æ–‡ä»¶åæ›¿æ¢)
                img.src = data.img; 
                
                // æˆåŠŸåŠ è½½æ—¶
                img.onload = () => { 
                    ph.style.opacity = '0'; 
                    img.style.opacity = '1'; 
                };
                
                displayArea.classList.remove('fading');
            }, 400);
        }

        // --- Particles Logic (V1.5 æ ¸å¿ƒå®ç°) ---
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let mouse = { x: null, y: null }; 

        function resize() { 
            canvas.width = window.innerWidth; 
            canvas.height = window.innerHeight; 
            initParticles();
        }
        window.addEventListener('resize', resize);
        
        window.addEventListener('mousemove', (e) => { 
            mouse.x = e.x; 
            mouse.y = e.y; 
            particleInteractionRadius = 150;
        });
        window.addEventListener('mouseleave', () => { mouse.x = null; });

        window.addEventListener('touchstart', handleTouch);
        window.addEventListener('touchmove', handleTouch);
        window.addEventListener('touchend', endTouch);
        window.addEventListener('touchcancel', endTouch); 
        
        function getThemeColor() {
            const style = getComputedStyle(document.documentElement);
            const rgb = style.getPropertyValue('--accent-rgb').trim();
            // é»˜è®¤è¿”å› minimal çš„é¢œè‰²
            return rgb ? rgb.split(',').map(Number) : [109, 145, 201];
        }

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 0.5;
                this.vx = (Math.random() - 0.5) * 0.1; 
                this.vy = (Math.random() - 0.5) * 0.1;
                this.initialSize = this.size; 
            }

            update() {
                let targetVx = 0, targetVy = 0;
                const interpolationFactor = 0.05; 
                
                // V1.5 ç²’å­è¿åŠ¨æ¨¡å¼
                if (currentParticleMode === 'fire-spark') { 
                    // å·¥ä¸šé£: éšæœºã€é«˜æ–¹å·®è¿åŠ¨ï¼Œæ¨¡æ‹Ÿç«èŠ±/ç¢å±‘
                    targetVx = (Math.random() - 0.5) * 1.5 * speedMultiplier;
                    targetVy = (Math.random() - 0.5) * 1.5 * speedMultiplier;
                } else if (currentParticleMode === 'ink-mist') {
                    // æ°´å¢¨é£: ç¼“æ…¢å‘ä¸Šæ¼‚æµ®ï¼Œæ¨¡æ‹Ÿæ·¡é›¾/å¢¨æ»´æ‰©æ•£ï¼ˆè½»å¾®é‡åŠ›ï¼‰
                    targetVx = (Math.random() - 0.5) * 0.1 * speedMultiplier;
                    targetVy = -0.3 * speedMultiplier; // å‘ä¸Šé£˜
                    // å¢¨æ»´å¾®åŠ¨
                    this.x += Math.sin(Date.now() * 0.0005 + this.initialSize) * 0.1;
                    this.y += Math.cos(Date.now() * 0.0005 + this.initialSize) * 0.1;
                } else if (currentParticleMode === 'snowfall') { // åœ£è¯ä¸»é¢˜: ç¼“æ…¢å‘ä¸‹æ¼‚æµ®ï¼Œæ¨¡æ‹Ÿé›ªèŠ±
                     targetVx = (Math.random() - 0.5) * 0.5 * speedMultiplier;
                     targetVy = 0.8 * speedMultiplier; // å‘ä¸‹é£˜ï¼Œç•¥å¿«
                } else if (currentParticleMode === 'soft-glow') {
                    // æç®€æœªæ¥: ææ…¢çš„æ¼‚æµ®è¿åŠ¨
                    targetVx = (Math.random() - 0.5) * 0.1 * speedMultiplier;
                    targetVy = (Math.random() - 0.5) * 0.1 * speedMultiplier;
                    // æ¨¡æ‹Ÿå‘¼å¸æ„Ÿ
                    this.size = this.initialSize + Math.sin(Date.now() * 0.001 + this.initialSize) * 0.5;
                } else { 
                    targetVx = (Math.random() - 0.5) * 0.5 * speedMultiplier;
                    targetVy = (Math.random() - 0.5) * 0.5 * speedMultiplier;
                }

                // [å¹³æ»‘è¿‡æ¸¡] å…³é”®ï¼šæ’å€¼åˆ°ç›®æ ‡é€Ÿåº¦
                this.vx += (targetVx - this.vx) * interpolationFactor; 
                this.vy += (targetVy - this.vy) * interpolationFactor;

                this.x += this.vx;
                this.y += this.vy;

                // è¾¹ç•Œæ£€æµ‹ (å¾ªç¯)
                if (this.x > canvas.width) this.x = 0;
                if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0; // ç²’å­ä»åº•éƒ¨æ¶ˆå¤±ï¼Œä»é¡¶éƒ¨å‡ºç° (é›ªèŠ±/å¢¨æ»´)
                if (this.y < 0) this.y = canvas.height; // ç²’å­ä»é¡¶éƒ¨æ¶ˆå¤±ï¼Œä»åº•éƒ¨å‡ºç° (å¢¨æ»´æ¨¡å¼å‘ä¸Šé£˜æ—¶é€‚ç”¨)


                // é¼ æ ‡/è§¦æ§äº’åŠ¨ (ç‰©ç†æ’æ–¥)
                const dx = mouse.x - this.x;
                const dy = mouse.y - this.y;
                const distSq = dx * dx + dy * dy;
                
                if (mouse.x !== null && distSq < particleInteractionRadius * particleInteractionRadius) {
                    const dist = Math.sqrt(distSq);
                    const forceDirectionX = dx / dist;
                    const forceDirectionY = dy / dist;
                    const maxForce = window.innerWidth < 1024 ? 6 : 10; 
                    const force = (particleInteractionRadius - dist) / particleInteractionRadius * maxForce;
                    
                    this.vx -= forceDirectionX * force * 0.1;
                    this.vy -= forceDirectionY * force * 0.1;
                }
            }

            draw() {
                ctx.beginPath();
                // åº”ç”¨å¤§å°å› å­
                ctx.arc(this.x, this.y, this.size * particleSizeFactor, 0, Math.PI * 2); 
                const [r, g, b] = getThemeColor(); 
                // åº”ç”¨é€æ˜åº¦å› å­
                const alpha = (this.size / 2.5) * particleOpacityFactor; 
                ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${alpha})`; 
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            if (!canvas.width || !canvas.height) return;

            const screenArea = canvas.width * canvas.height;
            // ç²’å­æ•°é‡æ ¹æ®å±å¹•å¤§å°å’Œå½“å‰ä¸»é¢˜çš„å¯†åº¦éœ€æ±‚è¿›è¡Œè®¡ç®—
            let baseCount = Math.floor(screenArea / 15000); 
            let particleCount;

            if (currentParticleMode === 'soft-glow') {
                 particleCount = Math.min(Math.max(baseCount * 0.5, 30), 80); // æç®€æœªæ¥ï¼šæ•°é‡å‡å°‘
            } else if (currentParticleMode === 'ink-mist') {
                 particleCount = Math.min(Math.max(baseCount * 1.5, 80), 300); // æ°´å¢¨é£ï¼šæ•°é‡å¢åŠ ï¼Œæ¨¡æ‹Ÿé›¾æ°”
            } else if (currentParticleMode === 'snowfall') {
                 particleCount = Math.min(Math.max(baseCount * 1.2, 70), 250); // åœ£è¯é›ªèŠ±ï¼šé€‚é‡å¢åŠ 
            } else {
                 particleCount = Math.min(Math.max(baseCount, 50), 200); 
            }
            
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle()); 
            }
        }

        function connect() {
            let opacityValue = 1;
            const [r, g, b] = getThemeColor();
            
            for (let a = 0; a < particles.length; a++) {
                for (let b = a; b < particles.length; b++) {
                    const maxDist = 80;
                    const distSq = (particles[a].x - particles[b].x) ** 2 + (particles[a].y - particles[b].y) ** 2;
                    
                    if (distSq < maxDist * maxDist) {
                        opacityValue = 1 - (distSq / (maxDist * maxDist));
                        // åº”ç”¨é€æ˜åº¦å› å­åˆ°è¿æ¥çº¿ä¸Š 
                        ctx.strokeStyle = `rgba(${r}, ${g}, ${b}, ${opacityValue / 2 * particleOpacityFactor})`; 
                        ctx.lineWidth = 0.5;
                        ctx.beginPath();
                        ctx.moveTo(particles[a].x, particles[a].y);
                        ctx.lineTo(particles[b].x, particles[b].y);
                        ctx.stroke();
                    }
                }
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            
            // V1.5 è§„åˆ™: ä»…å·¥ä¸šé£ (fire-spark) ç»˜åˆ¶è¿æ¥çº¿
            if (currentParticleMode === 'fire-spark') {
                connect();
            }
        }

        window.onload = () => {
            setTheme('minimal'); // é»˜è®¤åŠ è½½ V1.5 çš„æç®€æœªæ¥ä¸»é¢˜
            resize(); 
            switchProject(0);
            animate(); 
        };
    </script>
</body>
</html>